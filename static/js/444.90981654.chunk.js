"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[444],{59444:function(e,t,n){n.r(t);var r=n(15861),o=n(4942),a=n(1413),s=n(70885),u=n(87757),i=n.n(u),l=n(72791),c=n(78983),h=n(9062),m=n(5589),d=n(80184);t.default=function(e){var t=(0,l.useState)({title:"",author:""}),n=(0,s.Z)(t,2),u=n[0],f=n[1],v=(0,l.useState)(),x=(0,s.Z)(v,2),p=x[0],b=x[1],j=(0,l.useState)(!1),k=(0,s.Z)(j,2),g=k[0],I=k[1],_=(0,m.aC)().user;(0,l.useEffect)((function(){console.log(p)}),[g]);var y=function(e){var t=e.target,n=t.value,r=t.name;f((0,a.Z)((0,a.Z)({},u),{},(0,o.Z)({},r,n)))},w=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("https://www.googleapis.com/books/v1/volumes?q=intitle:".concat(u.title,"+inauthor:").concat(u.author,"&maxResults=6&key=AIzaSyDdLcE2Enx_RB7CWjS_QUBGECZPt0pf_VA"));case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,b(r.items),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Error adding document: ",e.t0);case 14:I(!0),f({title:"",author:""});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=(0,r.Z)(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,h.ET)((0,h.hJ)((0,h.ad)(),"library"),{title:t.volumeInfo.title,author:t.volumeInfo.authors,image:t.volumeInfo.imageLinks.smallThumbnail,published:t.volumeInfo.publishedDate,category:t.volumeInfo.categories[0],user:_.userName,book:t});case 3:return r=e.sent,e.next=6,(0,h.ET)((0,h.hJ)((0,h.ad)(),n),{title:t.volumeInfo.title,author:t.volumeInfo.authors,image:t.volumeInfo.imageLinks.smallThumbnail,published:t.volumeInfo.publishedDate,category:t.volumeInfo.categories[0],user:_.userName});case 6:e.sent,console.log("Document written with ID: ",r.id),navigate("/library"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error adding document: ");case 14:I(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(c.lx,{onSubmit:w,children:[(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)(c.L8,{htmlFor:"bookTitle",children:"Book Title"}),(0,d.jsx)(c.jO,{type:"text",name:"title",value:u.bookTitle,onChange:y})]}),(0,d.jsxs)("div",{className:"mb-3",children:[(0,d.jsx)(c.L8,{htmlFor:"bookAuthor",children:"Book Author"}),(0,d.jsx)(c.jO,{type:"text",name:"author",value:u.bookAuthor,onChange:y})]}),(0,d.jsx)(c.u5,{type:"submit",color:"primary",onClick:w,children:"Search"})]}),!!g&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:"Results"}),p.map((function(e){return(0,d.jsx)(c.xH,{className:"mb-3",style:{maxWidth:"540px"},children:(0,d.jsxs)(c.rb,{className:"g-0",children:[(0,d.jsx)(c.b7,{md:4}),(0,d.jsxs)(c.b7,{md:8,children:[(0,d.jsxs)(c.sl,{children:[(0,d.jsxs)(c.tj,{children:[e.volumeInfo.title," by ",e.volumeInfo.authors]}),(0,d.jsxs)(c.uS,{children:["Published ",e.volumeInfo.publishedDate]})]}),(0,d.jsx)(c.u5,{onClick:function(){return C(e,"reading")},children:"Add to Reading"}),(0,d.jsx)(c.u5,{onClick:function(){return C(e,"stack")},children:"Add to Stack"})]})]})},e.id)}))]})]})}}}]);
//# sourceMappingURL=444.90981654.chunk.js.map